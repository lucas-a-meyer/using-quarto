## Regression and results

:::: {.columns}
::: {.column}
```{python}
#| echo: false

import pandas as pd
import statsmodels.formula.api as smf
from markdownify import markdownify as md
from IPython.display import display, Markdown
```

Here's an example of the first regression in Wooldridge's Introductory Econometrics book:

$$
\text{wage} = \alpha + \beta_1 \times \text{educ} + \epsilon
$$

```python
# Load the data
df_wage = pd.read_csv("data/wage1.csv")

# Create an OLS model using 
# the R syntax - assumes an intercept
mod = smf.ols(formula="wage ~ educ",
              data=df_wage)

# Fit the model
res = mod.fit()

# Show the results
display(Markdown(md(res.summary().
        tables[1].as_html())))
```

:::
::: {.column}
```{python}
#| echo: false
# Load the data
df_wage = pd.read_csv("data/wage1.csv")

# Create an OLS model using 
# the R syntax - assumes an intercept
mod = smf.ols(formula="wage ~ educ",
              data=df_wage)

# Fit the model
res = mod.fit()

# Show the results
reg_table = pd.read_html(res.summary().
  tables[1].as_html(), header=0)[0]
reg_table = reg_table[["coef", 'std err', 't', 'P>|t|']]
display(Markdown(reg_table.to_markdown()))
```
:::
::::
